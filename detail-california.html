<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6HN27QS');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detail California</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6HN27QS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <nav>
      <!-- copy nav kamu -->
    </nav>

    <div class="content">
      <h1>Detail Wisata: California</h1>
      <img
        src="img/Sunrise-on-the-Matterhorn.jpeg"
        alt="California"
        style="width: 300px; border-radius: 10px"
      />
      <p>Lokasi: USA</p>
      <p>Harga: $500</p>
      <p>Deskripsi: Nikmati pengalaman tak terlupakan di California.</p>

      <button class="add-to-cart" onclick="addToCart('California', 500, 'USA', 'America')">
        Add to Cart
      </button>
      <a
        href="checkout.html"
        style="
          background-color: blue;
          color: white;
          text-decoration: none;
          padding: 10px;
          border-radius: 5px;
        "
        >Checkout
      </a>
      <button onclick="history.go(-1)">Back</button>
    </div>

    <script>
      window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
  event: 'view_item',
  ecommerce: {
    currency: 'USD',
    value: 500,
    items: [{
      item_id: 'dest_' + 'California'.replace(/\s/g, '').toLowerCase(),
      item_name: 'California',
      price: 500,
      item_category: 'USA',
      quantity: 1
    }]
  },
  destination_region: "America"
});
      
      function addToCart(name, price, location, region) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        let existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            name: name,
            price: price,
            location: location,
            region: region,
            quantity: 1,
          });
        }

        localStorage.setItem("cart", JSON.stringify(cart));

        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          event: "add_to_cart",
          ecommerce: {
            currency: "USD",
            value: price,
            items: [
              {
                item_id: "dest_" + name.replace(/\s/g, "").toLowerCase(),
                item_name: name,
                price: price,
                item_category: location,
                quantity: 1,
              },
            ],
          },
          destination_region: region
        });

        alert("Item added to cart!");
      }
    </script>
  </body>
</html>
